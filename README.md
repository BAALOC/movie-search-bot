# Телеграм-бот для поиска фильмов

## Описание

Этот телеграм-бот позволяет пользователям искать фильмы прямо из чата в Telegram.
Он реализует поиск фильмов/сериалов, фильтрация их по рейтингу и просмотр истории запросов.

## Функции

- **movie_search**: Поиск фильма/сериала по названию.
- **movie_by_rating**: Поиск фильмов/сериалов по рейтингу.
- **low_budget_movie**: Поиск фильмов/сериалов с низким бюджетом.
- **high_budget_movie**: Поиск фильмов/сериалов с высоким бюджетом.
- **history**: Просмотр истории запросов, 
с возможностью фильтрации по дате и отметкой фильмов/сериалов как просмотренных или непросмотренных.
- **settings**: Настройки поиска.

### Информация о фильме/сериале включает:

- Название
- Описание
- Рейтинг
- Год производства
- Жанр
- Возрастной рейтинг
- Постер

### Информация в истории запросов включает:

- Дата поиска
- Название фильма/сериала
- Описание фильма/сериала
- Рейтинг
- Год производства
- Жанр
- Возрастной рейтинг
- Постер

## Собственные команды

### 1. `/movie_search`

**Описание:** 
Для поиска фильма/сериала по названию.

**Пример команды:** 
`/movie_search Начало`

**Запрос к API**: 
`GET https://api.kinopoisk.dev/v1.3/movie?name=Начало`

**Ответ бота:**
```
Название: Начало
Описание: Вор, который крадет корпоративные секреты с помощью технологии совместного сна...
Рейтинг: 8.8
Год: 2010
Жанр: Фантастика, Боевик
Возрастной рейтинг: 13+
Постер: [изображение постера]
```

### 2. `/movie_by_rating`

**Описание:**
Поиск фильмов/сериалов по рейтингу.

**Пример команды:** 
`/movie_by_rating 8.8`

**Запрос к API**: 
`GET https://api.kinopoisk.dev/v1.3/movie?rating.kp=8.8`

**Ответ бота:**
```
Название: Начало
Описание: Вор, который крадет корпоративные секреты с помощью технологии совместного сна...
Рейтинг: 8.8
Год: 2010
Жанр: Фантастика, Боевик
Возрастной рейтинг: 13+
Постер: [изображение постера]
```

### 3. `/low_budget_movie`

**Описание:**
Поиск фильмов/сериалов с низким бюджетом.

**Пример команды:** 
`/low_budget_movie`

**Запрос к API**: 
`GET https://api.kinopoisk.dev/v1.3/movie?budget=<низкий_бюджет>`

**Ответ бота:**
```
Название: Ведьма из Блэр: Курсовая с того света
Описание: Трое студентов отправляются в лес Мэриленда для съемок документального фильма...
Рейтинг: 6.4
Год: 1999
Жанр: Ужасы
Возрастной рейтинг: 18+
Постер: [изображение постера]
```

### 4. `/high_budget_movie`

**Описание:** 
Поиск фильмов/сериалов с высоким  бюджетом.

**Пример команды:** 
`/high_budget_movie`

**Запрос к API**: 
`GET https://api.kinopoisk.dev/v1.3/movie?budget=<высокий_бюджет>`

**Ответ бота:**
```
Название: Мстители: Финал
Описание: После разрушительных событий "Войны бесконечности" Мстители собираются вновь...
Рейтинг: 8.4
Год: 2019
Жанр: Фантастика, Боевик
Возрастной рейтинг: 13+
Постер: [изображение постера]
```

### 5. `/history`

**Описание:** 
Просмотр истории запросов, с возможностью фильтрации по дате и
отметкой фильмов/сериалов как просмотренных или непросмотренных.

**Пример команды:** 
`/history`

**Ответ бота:**
```
Дата: 2023-06-24
Название: Начало
Описание: Вор, который крадет корпоративные секреты с помощью технологии совместного сна...
Рейтинг: 8.8
Год: 2010
Жанр: Фантастика, Боевик
Возрастной рейтинг: 13+
Постер: [изображение постера]
```

### 5. `/settings`

**Описание:** 
Настройка количества выводимых фильмов, жанров и возможность удалить историю поиска.

**Пример команды:** 
`/settings`

### Базовые команды:

**/start** - старт, приветствует пользователя, выводит информацию о себе и список команд.

**/help** - помощь, выводит список своих команд.

## Установка и запуск

1. **Клонируйте репозиторий:**
    ```sh
    git clone https://gitlab.skillbox.ru/makar_poloumnyi/python_basic_diploma
    cd python_basic_diploma
    ```

2. **Установите зависимости:**
    ```sh
    pip install -r requirements.txt
    ```

3. **Настройте переменные окружения:**
    Создайте файл `.env` в корневом каталоге проекта и добавьте следующие строки:
    ```
    BOT_TOKEN=ваш_токен_телеграм
    API_KEY=ваш_ключ_API(из https://t.me/kinopoiskdev_bot)
    ```

4. **Запустите бота:**
    ```sh
    python main.py
    ```


